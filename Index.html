<div id="weather-widget" style="
  max-width: 280px;
  background: #f5f1e9; /* beige clair neutre */
  border-radius: 14px;
  padding: 20px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #4a4a4a;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  text-align: center;
">
  <h3 style="margin-bottom: 15px; font-weight: 600;">M√©t√©o locale</h3>
  <input 
    type="text" 
    id="city-input" 
    placeholder="Entrez une ville" 
    style="width: 90%; padding: 8px 10px; border-radius: 6px; border: 1px solid #ccc; margin-bottom: 15px; font-size: 1em;"
  />
  <button id="search-btn" style="
    padding: 8px 14px; 
    border:none; 
    border-radius: 6px; 
    background-color: #8b7e66; 
    color: white; 
    cursor: pointer;
    font-weight: 600;
    transition: background-color 0.3s;
  ">Chercher</button>

  <p id="city" style="font-size: 1.2em; margin: 8px 0;">Chargement...</p>
  <div id="icon" style="font-size: 48px; margin: 10px 0;"></div>
  <p id="temp" style="font-size: 2em; margin: 6px 0; font-weight: 700;"></p>
  <p id="desc" style="font-size: 1em; font-style: italic; margin: 6px 0; text-transform: capitalize;"></p>
</div>

<script>
  const apiKey = 'bee85c5f8eaca0dfbc7b4ba83c08096c'; // Remplace par ta cl√© OpenWeatherMap

  const weatherIcons = {
    '01d': '‚òÄÔ∏è',
    '01n': 'üåô',
    '02d': 'üå§Ô∏è',
    '02n': 'üå§Ô∏è',
    '03d': '‚õÖ',
    '03n': '‚õÖ',
    '04d': '‚òÅÔ∏è',
    '04n': '‚òÅÔ∏è',
    '09d': 'üåßÔ∏è',
    '09n': 'üåßÔ∏è',
    '10d': 'üå¶Ô∏è',
    '10n': 'üå¶Ô∏è',
    '11d': '‚õàÔ∏è',
    '11n': '‚õàÔ∏è',
    '13d': '‚ùÑÔ∏è',
    '13n': '‚ùÑÔ∏è',
    '50d': 'üå´Ô∏è',
    '50n': 'üå´Ô∏è',
  };

  async function fetchWeatherByCity(city) {
    try {
      const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&units=metric&lang=fr&appid=${apiKey}`;
      const res = await fetch(url);
      if (!res.ok) throw new Error('Ville non trouv√©e');
      const data = await res.json();

      document.getElementById('city').innerText = data.name;
      document.getElementById('temp').innerText = `${Math.round(data.main.temp)} ¬∞C`;
      document.getElementById('desc').innerText = data.weather[0].description;
      document.getElementById('icon').innerText = weatherIcons[data.weather[0].icon] || '‚ùî';

    } catch (err) {
      document.getElementById('city').innerText = 'Ville non trouv√©e';
      document.getElementById('temp').innerText = '--';
      document.getElementById('desc').innerText = '';
      document.getElementById('icon').innerText = '';
      console.error(err);
    }
  }

  document.getElementById('search-btn').addEventListener('click', () => {
    const city = document.getElementById('city-input').value.trim();
    if (city) {
      fetchWeatherByCity(city);
    }
  });

  // Appuyer sur Entr√©e dans l'input d√©clenche la recherche
  document.getElementById('city-input').addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      document.getElementById('search-btn').click();
    }
  });

  // Affichage initial m√©t√©o Lyon
  fetchWeatherByCity('Lyon');
</script>

